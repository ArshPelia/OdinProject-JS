(()=>{"use strict";class t{constructor(t,i,s,r){this.hitsIncurred=0,this.sunk=!1,this.length=t,this.x=i,this.y=s,this.orientation=r}hit(){this.hitsIncurred++}isSunk(){return this.hitsIncurred==this.length&&(this.sunk=!0,!0)}}class s{constructor(t,i){this.x=t,this.y=i,this.ship=null,this.misHit=!1,this.value="."}placeShip(t){this.ship=t,this.value="X"}isOccupied(){return!!this.ship}getValue(){return this.value}strike(){return this.isOccupied()?(this.ship.hit(),this.value="H",!0):(this.value="M",!1)}}console.log("Script Started");const r=new class{orientations=["v","h"];constructor(){console.log("Creating Board"),this.rows=10,this.cols=10,this.board=[],this.ships=[];for(let t=0;t<this.rows;t++){this.board[t]=[];for(let i=0;i<this.cols;i++)this.board[t].push(new s)}this.populateShips()}printToConsole(){const t=this.board.map((t=>t.map((t=>t.getValue()))));console.log(t)}populateShips(){for(;this.ships.length<5;){let i=Math.floor(Math.random()*this.orientations.length),s=this.orientations[i],r=Math.floor(10*Math.random()),e=Math.floor(10*Math.random()),o=Math.floor(5*Math.random())+1,h=this.validPlacement(o,r,e,s);if(!0===h[0]){let i=new t(o,r,e,h[1]);for(let t=0;t<o;t++)"vertical"===h[1]?this.board[r][e+t].placeShip(i):this.board[r+t][e].placeShip(i);this.ships.push(i)}}}validPlacement(t,i,s,r){if(i+t>this.rows||this.board[i][s].isOccupied())return[!1,""];if("v"==r){for(let r=s;r<s+t;r++)if(r>=this.cols||this.board[i][r].isOccupied())return[!1,""];for(let r=s;r<s+t;r++)if(r>=this.cols||this.board[i][r].isOccupied())return[!1,""];return s+t>=this.cols?[!1,""]:[!0,"vertical"]}for(let r=i;r<i+t;r++)if(r>=this.rows||this.board[r][s].isOccupied())return[!1,""];for(let r=i;r<i+t;r++)if(r>=this.rows||this.board[r][s].isOccupied())return[!1,""];return[!0,"horizontal"]}receiveAttack(t,i){(t>this.rows||i>this.cols)&&console.error("Invalid Hit: Out of Bounds");let s=this.board[t][i].strike();console.log("Attack at ("+t+","+i+") => "+s)}allSunk(){for(i in this.ships)if(0==i.isSunk())return!1;return!0}};r.printToConsole(),r.receiveAttack(1,1),r.receiveAttack(2,5),r.receiveAttack(7,3),r.receiveAttack(8,4),r.printToConsole(),console.log("Script Ended")})();